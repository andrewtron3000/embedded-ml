let
    import "std.uh"
    import "list.uh"
    import "string.uh"
    import "int.uh"
    import "threads.uh"
    import "clock.uh"
    import "timer.uh"

    fun pr () = 
        ( yield ();
          pr ())

    fun timer-task ts () = 
        let
            val ts' = timer-scan ts
        in
            ( yield ();
              timer-task ts' () )
        end

    val () = print (timer-list-tostring timer-list "")
    val t2 = timer-create timer-list ((5, 0), (fn () => print "ding\n"))
    val () = print (timer-list-tostring t2 "")
    val t3 = timer-create t2 ((10, 500), (fn () => print "dong\n"))
    val () = print (timer-list-tostring t3 "")

    val () = fork pr
    val () = fork (timer-task t3)
in
  pr ()
end
